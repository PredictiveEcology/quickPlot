<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>03 Plotting with `quickPlot` • quickPlot</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="03 Plotting with `quickPlot`">
<meta property="og:description" content="quickPlot">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-4"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-4');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">quickPlot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/iii-plotting.html">03 Plotting with `quickPlot`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/PredictiveEcology/quickPlot/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>03 Plotting with <code>quickPlot</code>
</h1>
                        <h4 data-toc-skip class="author">Eliot J. B.
McIntire</h4>
            
            <h4 data-toc-skip class="date">June 11 2023</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/PredictiveEcology/quickPlot/blob/HEAD/vignettes/iii-plotting.Rmd" class="external-link"><code>vignettes/iii-plotting.Rmd</code></a></small>
      <div class="hidden name"><code>iii-plotting.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="plotting-in-quickplot">Plotting in <code>quickPlot</code><a class="anchor" aria-label="anchor" href="#plotting-in-quickplot"></a>
</h2>
<p>Most visualization approaches in R (<em>e.g.</em>, <code>base</code>,
<code>RgoogleVis</code>, <code>ggplot2</code>, <code>rgl</code>) are not
optimized for speed or modularity. Rather, they are designed to build
publication-quality or interactive figures that do not need to be
redrawn hundreds or more times, maybe even in rapid succession. Plotting
requirements for many other uses, including simulation modelling, are
different. Changes to data, maps, objects can happen rapidly and
repeatedly. Visualizing this can be critical, especially during the
model building phase. Furthermore, no plotting method has been designed
for modularity – the ability to plot something without being aware of
what is already there.</p>
<p><code>quickPlot</code> comes with a plotting function to fulfill
these two gaps. The main plotting function, <code>Plot</code>
(<em>i.e.</em>, with a capital <code>P</code>), is built using the
<code>grid</code> package. We have specifically built a plotting system
that allows for relatively fast plotting of rasters (in the
<code>raster</code> package), <code>SpatialPoints</code>,
<code>SpatialPolygons</code>, <code>SpatialLines</code> (all within the
<code>sp</code> package), <code>ggplot</code> objects, histogram, and
<code>igraph</code> (package <code>igraph</code>) objects with the
ability to make multi-frame plots without knowing which plots are
already plotted. In other words, the main plotting function can handle
modular plotting, where each call to <code>Plot</code> adds plots,
without each knowing what the current state of the active plotting
device is. This means that plotting can be treated as modular. The
<code>Plot</code> function is therefore intended to be used as a way to
interact visually especially during development of rapid, repeated
visualizations, such as simulation modelling. If fine tuning and
customization are desired, other plotting tools may be more suited
(<em>e.g.</em>, <code>ggplot2</code>, or a dedicated GIS program).</p>
<p>To demonstrate plotting, we first load some maps. These maps are
randomly generated maps that come with the <code>quickPlot</code>
package. In the code snippet below, we create the list of files to load,
which is every file in the <code>maps/</code> subdirectory of the
package. Then we load that list of files.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#  Make list of maps from package database to load, and what functions to use to load them</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://quickplot.predictiveecology.org">quickPlot</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># omit forestAge and percentPine maps for simplicity</span></span>
<span><span class="va">files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"maps"</span>, package <span class="op">=</span> <span class="st">"quickPlot"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">dir</a></span><span class="op">(</span>full.names <span class="op">=</span> <span class="cn">TRUE</span>, pattern <span class="op">=</span> <span class="st">"tif"</span><span class="op">)</span></span>
<span><span class="va">filelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">files</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">5</span><span class="op">)</span> <span class="op">]</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">filelist</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                                                file</span></span>
<span><span class="co">## 1            /home/runner/work/_temp/Library/quickPlot/maps/DEM.tif</span></span>
<span><span class="co">## 2    /home/runner/work/_temp/Library/quickPlot/maps/forestCover.tif</span></span>
<span><span class="co">## 3 /home/runner/work/_temp/Library/quickPlot/maps/habitatQuality.tif</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load files to memory (using rasterToMemory), assign to a simList we call maps </span></span>
<span><span class="va">maps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">filelist</span><span class="op">$</span><span class="va">file</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">maps</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">basename</a></span><span class="op">(</span><span class="va">filelist</span><span class="op">$</span><span class="va">file</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">x</span>, split <span class="op">=</span> <span class="st">"\\."</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># put into a single stack object in the simulation environment for ease of use below</span></span>
<span><span class="va">landscape</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">maps</span><span class="op">$</span><span class="va">DEM</span>, <span class="va">maps</span><span class="op">$</span><span class="va">forestCover</span>, <span class="va">maps</span><span class="op">$</span><span class="va">habitatQuality</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="the-plot-function">The <code>Plot</code> function<a class="anchor" aria-label="anchor" href="#the-plot-function"></a>
</h2>
<p>There are several features of <code>Plot</code> that are worth
highlighting. A primary purpose of <code>Plot</code> is to plot spatial
type objects; however, as noted below, other object types can also be
plotted. Spatial objects can be layered on top of one another;
non-spatial objects can not.</p>
<div class="section level3">
<h3 id="spatial-layer-types">Spatial layer types<a class="anchor" aria-label="anchor" href="#spatial-layer-types"></a>
</h3>
<p>Specifically, it currently can plot <code>RasterLayer</code>,
<code>RasterStack</code>, <code>SpatialPoints*</code>,
<code>SpatialPolygons*</code>, and <code>SpatialLines*</code> spatial
objects. Because <code>Plot</code> uses the <code>grid</code> graphics
system, changing plot parameters is done with the <code>gp=gpar()</code>
designation. See <code><a href="../reference/grid-functions.html">?gpar</a></code> for options.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span>, new <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/first_plot-1.png" width="700"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># make a SpatialPoints object</span></span>
<span><span class="va">caribou</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1e2</span>, <span class="op">-</span><span class="fl">50</span>, <span class="fl">50</span><span class="op">)</span>,</span>
<span>                             y <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1e2</span>, <span class="op">-</span><span class="fl">50</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">caribou</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">caribou</span>, addTo <span class="op">=</span> <span class="st">"landscape$habitatQuality"</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/first_plot-2.png" width="700"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># from ?vect help file</span></span>
<span><span class="va">x1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">18</span>,<span class="op">-</span><span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">14</span>,<span class="fl">5.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">14</span>,<span class="op">-</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14</span>,<span class="fl">6</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span>,<span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14</span>,<span class="op">-</span><span class="fl">5.5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">12.5</span>,<span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">6</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">0.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>,<span class="op">-</span><span class="fl">4.5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">hole</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10.5</span>,<span class="fl">1.3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>,<span class="fl">0.2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10.5</span>,<span class="op">-</span><span class="fl">1.3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>object<span class="op">=</span><span class="fl">1</span>, part<span class="op">=</span><span class="fl">1</span>, <span class="va">x1</span>, hole<span class="op">=</span><span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>object<span class="op">=</span><span class="fl">2</span>, part<span class="op">=</span><span class="fl">1</span>, <span class="va">x3</span>, hole<span class="op">=</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>object<span class="op">=</span><span class="fl">3</span>, part<span class="op">=</span><span class="fl">1</span>, <span class="va">x2</span>, hole<span class="op">=</span><span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>object<span class="op">=</span><span class="fl">3</span>, part<span class="op">=</span><span class="fl">1</span>, <span class="va">hole</span>, hole<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'x'</span>, <span class="st">'y'</span><span class="op">)</span></span>
<span><span class="va">spP</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">z</span>, <span class="st">"polygons"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">spP</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">spP</span>, addTo <span class="op">=</span> <span class="st">"landscape$habitatQuality"</span>, gp <span class="op">=</span> <span class="fu"><a href="../reference/grid-functions.html">gpar</a></span><span class="op">(</span>lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co"># from ?vect help file</span></span>
<span><span class="va">z</span><span class="op">[</span><span class="va">z</span><span class="op">[</span>, <span class="st">"hole"</span><span class="op">]</span><span class="op">==</span><span class="fl">1</span>, <span class="st">"object"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">4</span></span>
<span><span class="va">sl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">z</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, <span class="st">"lines"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">sl</span>, gp <span class="op">=</span> <span class="fu"><a href="../reference/grid-functions.html">gpar</a></span><span class="op">(</span>col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, addTo <span class="op">=</span> <span class="st">"landscape$DEM"</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/first_plot-3.png" width="700"></p>
<p>Any combination of <code>RasterStack</code>,
<code>RasterLayer</code>, <code>SpatialPoints*</code>, and
<code>SpatialPolygons*</code> objects can be plotted from a single
invocation of <code>Plot</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span>, <span class="va">caribou</span>, <span class="va">maps</span><span class="op">$</span><span class="va">DEM</span>, <span class="va">spP</span>, axes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>     gp <span class="op">=</span> <span class="fu"><a href="../reference/grid-functions.html">gpar</a></span><span class="op">(</span>cex <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>, visualSqueeze <span class="op">=</span> <span class="fl">0.65</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/mixing_layer_types-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="other-object-types">Other object types<a class="anchor" aria-label="anchor" href="#other-object-types"></a>
</h3>
<div class="section level4">
<h4 id="ggplot2-objects">
<code>ggplot2</code> objects<a class="anchor" aria-label="anchor" href="#ggplot2-objects"></a>
</h4>
<p><code>Plot</code> can also handle <code>gg</code> objects as created
with <code>qplot</code> or <code>ggplot</code>. These can be combined
with spatial objects as well.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"ggplot2"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ggObj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1e3</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">caribou</span>, axes <span class="op">=</span> <span class="st">"L"</span>, new <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </span>
<span>  <span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">ggObj</span><span class="op">)</span> </span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required namespace: ggplot2</span></span></code></pre>
<p><img src="iii-plotting_files/figure-html/ggplot-1.png" width="700"></p>
<pre><code><span><span class="co">## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span></code></pre>
<p><img src="iii-plotting_files/figure-html/ggplot-2.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="base-plotting">
<code>base</code> plotting<a class="anchor" aria-label="anchor" href="#base-plotting"></a>
</h4>
<p><code>Plot</code> can is also a wrapper around
<code>plot.default</code>. The advantage of using <code>Plot</code> is
that you can place individual plots by named area, or have the
<code>Plot</code> function do that automatically. The <code>Plot</code>
function can only handle one of these at a time, unlike the previous
cases. Most arguments that can be passed into <code>plot</code> should
work here. Note, as with other objects passed to <code>Plot</code>,
there must be a way for R to refind the data in order to replot it if a
rearranged windows occurs. To do this, the user can provide a name for
the plot, via <code>addTo</code> argument. If there is not yet an object
with that name, then it will create it. If no <code>addTo</code> is
passed in, then it will give the default, <code>basePlot1</code>,
name.</p>
<p>If using <code>addTo</code>, and there are both x and y arguments, it
will <em>add</em> points to the previous plot.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">baseObj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1e3</span><span class="op">)</span></span>
<span><span class="va">baseObj2</span> <span class="op">&lt;-</span> <span class="va">baseObj</span> <span class="op">*</span> <span class="fl">1.2</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1e3</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># Plot(baseObj, axes = "L", ylab = "Something meaningful") </span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">baseObj</span>, <span class="va">baseObj2</span>, addTo <span class="op">=</span> <span class="st">"scatterplot"</span>, axes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </span>
<span><span class="va">newPoints</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">newPoints2</span> <span class="op">&lt;-</span> <span class="va">newPoints</span> <span class="op">*</span> <span class="fl">1.2</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">newPoints</span>, <span class="va">newPoints2</span>, addTo <span class="op">=</span> <span class="st">"scatterplot"</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="other-classes">Other classes<a class="anchor" aria-label="anchor" href="#other-classes"></a>
</h4>
<p><code>Plot</code> methods can be extended to accommodate other
classes. See package <code>SpaDES</code> for examples.</p>
</div>
</div>
<div class="section level3">
<h3 id="colours">Colours<a class="anchor" aria-label="anchor" href="#colours"></a>
</h3>
<p>We likely won’t want the default colours for every map. There are two
ways to change the colour of a map: by adding a <code>colortable</code>
to a <code>Raster*</code> object (<em>e.g.</em>, using the
<code>setColors</code> function in <code>quickPlot</code>), or using the
<code>cols</code> argument of the <code>Plot</code> function. Adding a
<code>colortable</code> to a <code>Raster*</code> will be more
persistent (<em>i.e.</em>, it will stay with the same colour table even
if the device is wiped clean or a new device is created. Every
<code>RasterLayer</code> can have a <code>colortable</code>, which gives
the mapping of raster values to colours. If not already set in the file
(many <code>.tif</code> files and other formats already have their
<code>colortable</code> set), we can use <code>setColors(Raster*)</code>
with a named list of colours, if a <code>RasterStack</code>, or just a
vector of colours if only a single <code>RasterLayer</code>. These can
be easily built with the <code>RColorBrewer</code> package, with the
function <code>brewer.pal()</code>, <code><a href="https://rdrr.io/r/grDevices/colorRamp.html" class="external-link">colorRampPalette()</a></code>,
<code><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">heat.colors()</a></code>, or just a character vector of colours that
will be interpolated. Note that overplotting (accomplished with
<code>addTo=</code>) will not overplot the legend; in general,
overplotting should be used for cases where the maps are compatible with
the underlying map layer. See overplotting below.</p>
<p><code>zero.color</code> is an optional string indicating the colour
for zero values, when zero is the minimum value, otherwise, it is
treated as any other colour. The default is <code>NULL</code>. Use
<code>"white"</code> or another colour if this default is not
desired.</p>
<p><code>na.color</code> is an optional string indicating the colour for
<code>NA</code> values. The default is transparent. Use
<code>"white"</code> or another colour if this default is not desired.
See text about <code>na.color</code> below after raster values have
changed.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>  <span class="co"># can change colour palette</span></span>
<span>  <span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span> <span class="co"># original</span></span>
<span>  </span>
<span>  <span class="co"># can use RColorBrewer if installed</span></span>
<span>  <span class="va">habQualCols</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"RColorBrewer"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">RColorBrewer</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">brewer.pal</a></span><span class="op">(</span><span class="fl">9</span>, <span class="st">"Spectral"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/grDevices/colorRamp.html" class="external-link">colorRampPalette</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"blue"</span>, <span class="st">"purple"</span><span class="op">)</span><span class="op">)</span><span class="op">(</span><span class="fl">9</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="va">mapColours</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    DEM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">topo.colors</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span>,</span>
<span>    forestCover <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/colorRamp.html" class="external-link">colorRampPalette</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"blue"</span>, <span class="st">"orange"</span>, <span class="st">"purple"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span><span class="op">(</span><span class="fl">50</span><span class="op">)</span>,</span>
<span>    habitatQuality <span class="op">=</span> <span class="va">habQualCols</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/getSetColors.html">setColors</a></span><span class="op">(</span><span class="va">landscape</span>, n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">mapColours</span></span>
<span>  <span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span>, new <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># oh, how pretty!</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/set_colours-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="plot-arguments">
<code>Plot</code> arguments<a class="anchor" aria-label="anchor" href="#plot-arguments"></a>
</h3>
<div class="section level4">
<h4 id="grid-graphical-parameters-gp-gptext-gpaxis-size">
<code>grid</code> graphical parameters: <code>gp</code>,
<code>gpText</code>, <code>gpAxis</code>, <code>size</code><a class="anchor" aria-label="anchor" href="#grid-graphical-parameters-gp-gptext-gpaxis-size"></a>
</h4>
<p>These parameters will specify plot parameters that are available with
<code><a href="../reference/grid-functions.html">gpar()</a></code>. <code>gp</code> will adjust plot parameters,
<code>gpText</code> will adjust the title and legend text only,
<code>gpAxis</code> will adjust the axes only. <code>size</code> adjusts
point size in a <code>SpatialPoints</code> object. Multiple entries can
be used, but they must be passed as list elements and they will be
matched to the <code>...</code> items to plot.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">caribou</span>, gpAxis <span class="op">=</span> <span class="fu"><a href="../reference/grid-functions.html">gpar</a></span><span class="op">(</span>cex <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/gp_gpAxis_gpText-1.png" width="700"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">maps</span><span class="op">$</span><span class="va">DEM</span>, gpText <span class="op">=</span> <span class="fu"><a href="../reference/grid-functions.html">gpar</a></span><span class="op">(</span>cex <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/gp_gpAxis_gpText-2.png" width="700"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">maps</span><span class="op">$</span><span class="va">DEM</span>, <span class="va">caribou</span>, gpText <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="../reference/grid-functions.html">gpar</a></span><span class="op">(</span>cex <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="../reference/grid-functions.html">gpar</a></span><span class="op">(</span>cex <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span>, new <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/gp_gpAxis_gpText-3.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="visualsqueeze">
<code>visualSqueeze</code><a class="anchor" aria-label="anchor" href="#visualsqueeze"></a>
</h4>
<p>Under most circumstances, the plotting regions will be automatically
scaled to maximize the area taken by the map layers, minimizing white
space, but allowing axes, legends and titles to be visible when they are
plotted. In some devices and some situations, this automatic scaling is
imperfect, so axes or legends may be squished. The
<code>visualSqueeze</code> argument is an easy way to shrink or grow the
plots on the device. The default value is 0.75 representing ~75% of the
area. If the plots need to be slightly smaller, this could be set to
0.6; if they can be larger, <code>visualSqueeze</code> could be set to
0.8. <code>visualSqueeze</code> is 1 for fully filled device.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># x axis gets cut off in pdf and html</span></span>
<span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">maps</span><span class="op">$</span><span class="va">DEM</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/visualSqueeze-1.png" width="700"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">maps</span><span class="op">$</span><span class="va">DEM</span>, visualSqueeze <span class="op">=</span> <span class="fl">0.6</span>, new <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/visualSqueeze-2.png" width="700"></p>
<p>A key reason why the legends or axes are cut off sometimes is because
there is a minimum threshold for font size for readability. So, either
<code>visualSqueeze</code> can be set or making a larger device will
usually also solve these problems.</p>
</div>
<div class="section level4">
<h4 id="legend-and-legendrange">
<code>legend</code> and <code>legendRange</code><a class="anchor" aria-label="anchor" href="#legend-and-legendrange"></a>
</h4>
<p><code>legend</code> is a logical indicating whether a legend should
automatically be added (the default). <code>legendRange</code> will
allow overriding of the default automatic legend creation. This is
useful in situations where, say, an version of a raster at the initial
stage of a simulation does not cover the range of the eventual values of
that raster. Since the default is to automatically scale the legend to
the values contained in the raster at the first time it is drawn, the
legend will not cover the whole necessary range. Adding
<code>legendRange = 0:20</code>, where <code>0:20</code> covers the
expected range of all stages of that raster, will work.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">maps</span><span class="op">$</span><span class="va">DEM</span>, legendRange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">500</span><span class="op">)</span>, new <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/legendRange-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="zoomextent">
<code>zoomExtent</code><a class="anchor" aria-label="anchor" href="#zoomextent"></a>
</h4>
<p>A plot can be made with a custom zoom. This can either be done by
cropping the object, or by doing a <code>Plot</code> call, passing an
extent object via <code>zoomExtent</code>. A common way of using this
would be to initially <code>Plot</code> an object, then use
<code>clickExtent</code>, assigning the new extent to an object. Then
call <code>Plot(obj, zoomExtent=newZoom)</code>. This new zoom will
persist with rearrangements.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">maps</span><span class="op">$</span><span class="va">DEM</span>, zoomExtent <span class="op">=</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/ext.html" class="external-link">ext</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span>, new <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/zoomExtent-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="length">
<code>length</code><a class="anchor" aria-label="anchor" href="#length"></a>
</h4>
<p>For <code>SpatialLines*</code> objects, length will give arrow head
length, in inches, meaning that the lines will be arrows.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">maps</span><span class="op">$</span><span class="va">DEM</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">sl</span>, addTo <span class="op">=</span> <span class="st">"maps$DEM"</span>, length <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/arrows-1.png" width="700"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="modularity">Modularity<a class="anchor" aria-label="anchor" href="#modularity"></a>
</h2>
<p>One of the main purposes of the <code>Plot</code> function is
modularity. The goal is to enable any <code>SpaDES</code> module to be
able to add a plot to the plotting device, without being aware of what
is already in the plotting device. To do this, each open plotting device
has a corresponding <code>.quickPlot</code> object in the
<code>.quickPlotEnv</code>, that gets created when a first Plot function
is called. This object keeps the layer names, their extents, and whether
they were in a <code>RasterStack</code> (and a few other things). So,
when a new <code>Plot</code> is called, and <code>new</code> is used,
then it will simply add the new layer. There may not be space on the
plot device for this, in which case, everything will be replotted in a
new arrangement, but taking the original R objects. This is different
than the grid package engine for replotting. That engine was not
designed for large numbers of plots to be added to a region; it slows
down immensely as the number of plots increases.</p>
<div class="section level3">
<h3 id="the-new-argument">The <code>new</code> argument<a class="anchor" aria-label="anchor" href="#the-new-argument"></a>
</h3>
<p>The <code>new</code> argument wipes the individual plots that are
being added to (via <code>addTo</code> explicitly or implicitly because
it is the same object name as a current plot), and plots the new object
or base plot in the stead of the old one. This can be used for changing
any <code>Plot</code> argument, legend etc. The title, however,
remains.</p>
<p>This argument can be passed in as a list if there are several objects
being replotted. This list version is somewhat experimental so may not
work as desired.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span>, new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>, axes <span class="op">=</span> <span class="st">"L"</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/new-as-list-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="calling-plot-again-and-again">Calling Plot again and again<a class="anchor" aria-label="anchor" href="#calling-plot-again-and-again"></a>
</h3>
<p>Plot is meant to be modular, so, making a Plot call does not wipe
clear any previous plots. Rather, it adds the new objects or base plots.
This may require a re-arrangement of the device. When <code>Plot</code>
is called and a new plot is being added to an existing plot, the
behaviour depends on how much blank space is currently available.</p>
<div class="section level4">
<h4 id="if-there-is-a-blank-spot-for-a-new-plot">If there is a blank spot for a new plot<a class="anchor" aria-label="anchor" href="#if-there-is-a-blank-spot-for-a-new-plot"></a>
</h4>
<p>The <code>Plot</code> function simply adds the new plot in the
available empty space.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/simple_add-1.png" width="700"></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># can add a new plot to the plotting window</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">caribou</span>, new <span class="op">=</span> <span class="cn">FALSE</span>, axes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/simple_add-2.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="if-there-is-not-a-blank-spot-for-a-new-plot">If there is <em>not</em> a blank spot for a new plot<a class="anchor" aria-label="anchor" href="#if-there-is-not-a-blank-spot-for-a-new-plot"></a>
</h4>
<p>The <code>Plot</code> function creates a new arrangement, keeping the
pre-existing order of plots, and adding the new plots afterwards. The
plots will all be a little bit smaller (assuming the device has not
changed size), and they will be in different locations on the
device.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/add_with_rearrangement-1.png" width="700"></p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># can add a new plot to the plotting window</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">caribou</span>, new <span class="op">=</span> <span class="cn">FALSE</span>, axes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/add_with_rearrangement-2.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="a-pre-existing-name-to-a-device">A pre-existing name to a device<a class="anchor" aria-label="anchor" href="#a-pre-existing-name-to-a-device"></a>
</h4>
<p>The <code>Plot</code> function will overplot the new layer in the
location as the layer with the same name. If colours in the layer are
not transparent, then this will effectively block the previous plot. The
legend will remain as per the original legend, unless
<code>new = TRUE</code> is used.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span></span>
<span><span class="va">landscape</span><span class="op">$</span><span class="va">forestCover</span><span class="op">[</span><span class="op">]</span> <span class="op">=</span> <span class="op">(</span><span class="op">(</span><span class="va">landscape</span><span class="op">$</span><span class="va">forestCover</span><span class="op">[</span><span class="op">]</span> <span class="op">+</span> <span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">30</span><span class="op">)</span></span>
<span><span class="co"># can add a new plot to the plotting window</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span>, new <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co"># note: zeros are treated as no colour by default.</span></span>
<span><span class="co"># if this is not the correct behaviour, can use `zero.color`</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span>, new <span class="op">=</span> <span class="cn">FALSE</span>, zero.color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/add_with_same_name-1.png" width="700"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="plotting-speed">Plotting Speed<a class="anchor" aria-label="anchor" href="#plotting-speed"></a>
</h2>
<p>A second main purpose of the <code>Plot</code> function is to plot as
fast as possible so that visual updates, which may be frequent, take as
little time as possible. To do this, several automatic calculations are
made upon a call to <code>Plot</code>. First, the number of plots is
compared to the physical size of the device window. If the layers are
<code>RasterLayer</code>s, then they are subsampled before plotting,
automatically scaled to the number of pixels that would be discernible
by the human eye. If the layer is a <code>SpatialPoints*</code> object,
then a maximum of 10,000 points will be plotted. These defaults can be
adjusted by using the <code>speedup</code> argument. Broadly,
<code>speedup</code> is a positive real number (default is 1). Values
greater than 1 should plot faster; numbers between 0 and 1 should plot
slower. There will be exceptions to this (see next), so trial and error
for a particular situation is the only way to determine for certain what
speedups will be gained.</p>
<div class="section level3">
<h3 id="speedup">
<code>speedup</code><a class="anchor" aria-label="anchor" href="#speedup"></a>
</h3>
<p>The <code>speedup</code> argument is a <em>relative</em> speed
increase at the cost of resolution if it is greater than 1. If it is
between 0 and 1, it will be a relative speed decrease at the gain of
resolution. This may be used successfully when the layer texture is
particularly coarse, <em>i.e.</em>, there are clusters of identical
pixels, so subsampling will have little effect. In the examples below,
the speedup gains are modest because the Rasters are relatively small
(10,000 pixels). This speed gain will be much greater for larger
rasters.</p>
<p>For <code>SpatialPoints</code>, the default is to only plot 10,000
points; if there are more than this in the object, then a random sample
will be drawn. Speedup is used as the denominator to determine how many
to plot, <em>i.e.</em>, <code>10000/speedup</code>.</p>
<p>In the example here, the speedup actually slows down plotting because
the rasters are already very small. This would not be the case when the
original Raster had <code>1e8</code> pixels.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span>, <span class="va">caribou</span>, <span class="va">maps</span><span class="op">$</span><span class="va">DEM</span>, new <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    user  system elapsed </span></span>
<span><span class="co">##   0.136   0.000   0.136</span></span></code></pre>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span>, <span class="va">caribou</span>, <span class="va">maps</span><span class="op">$</span><span class="va">DEM</span>, speedup <span class="op">=</span> <span class="fl">10</span>, new <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/speedup-1.png" width="700"></p>
<pre><code><span><span class="co">##    user  system elapsed </span></span>
<span><span class="co">##   0.207   0.000   0.207</span></span></code></pre>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># can add a new plot to the plotting window</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="overplotting-addto">Overplotting: <code>addTo</code><a class="anchor" aria-label="anchor" href="#overplotting-addto"></a>
</h2>
<p>There are times when it is useful to add a plot to a different plot
with a different name. In these cases, the <code>new</code> argument
will not work. The argument <code>addTo</code> will allow plotting of a
<code>RasterLayer</code> or <code>SpatialPoints*</code> object on top of
a <code>RasterLayer</code>, <em>that does not share the same name</em>.
This can be useful to see where agents are on a
<code>RasterLayer</code>, or if there is transparency on a second
<code>RasterLayer</code>, it could be plotted on top of a first
<code>RasterLayer</code>.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">caribou</span>, addTo <span class="op">=</span> <span class="st">"landscape$DEM"</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/add-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="clearing-plot">Clearing Plot<a class="anchor" aria-label="anchor" href="#clearing-plot"></a>
</h2>
<p>A device and all the meta-data associated with that device can be
cleared with <code>clearPlot</code> function. Sometimes, the plot state
can be “illegal” because it was interrupted during a previous plotting
attempt. This function can be used to clear the device and all the
associated metadata manually. Use “force = TRUE” to close the device,
and reopen it, which is a sure-fire way to clear everything.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">caribou</span><span class="op">)</span></span></code></pre></div>
<p><img src="iii-plotting_files/figure-html/clearPlot-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="plotting-in-rstudio">Plotting in RStudio<a class="anchor" aria-label="anchor" href="#plotting-in-rstudio"></a>
</h2>
<p>The built-in RStudio plot window is particularly slow. It is
recommended to always create a new plotting device whenever real
simulations are being done and they will be substantially faster.</p>
<p>Until this is fixed in RStudio, we have created a function,
<code>dev(x)</code> which will add devices up to the number in the
parenthesis, or switch to that device if it is already open. If an
RStudio plot has not been called, <code><a href="../reference/dev.html">dev()</a></code> will create a new
device outside RStudio. <code><a href="../reference/dev.html">dev()</a></code> can also be used with a
number, as in <code>dev(x=4)</code> and this function will activate that
device, if already exists, or open up all devices required in sequence
from current device to <code>x</code>. Since RStudio uses 2 and 3 (for
the <code>png</code>), a call to <code>dev(4)</code> will either create
3 new devices (device numbers 2, 3 and 4 because device number 1 is
never used in R), or 1 new device if plotting to RStudio has already
occurred.</p>
<p>To set the default graphics device to avoid using the RStudio one,
use <code>dev.useRSGD(FALSE)</code>, which sets the <code>device</code>
option for your platform in order to bypass the RStudio graphics device.
To reset this back to the RStudio device, use
<code>dev.useRSGD(TRUE)</code>.</p>
</div>
<div class="section level2">
<h2 id="interacting-with-plots">Interacting with plots<a class="anchor" aria-label="anchor" href="#interacting-with-plots"></a>
</h2>
<div class="section level3">
<h3 id="clickvalues">
<code>clickValues</code><a class="anchor" aria-label="anchor" href="#clickvalues"></a>
</h3>
<p>This can be used to obtain the values on the plotting device at the
locations of the mouse clicks. This will work on multipanel plots. Note
that plotting of rasters with the grid package does not allow for
partial pixels to be plotted at the edges of the raster. As a result,
the edges of pixels may not perfectly line up with the coordinates that
they appear with. <em>Do not rely on exact values when zoomed
in</em></p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/quickPlotMouseClicks.html">clickValues</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span> <span class="co"># click at three locations on the Plot device</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="clickextent">
<code>clickExtent</code><a class="anchor" aria-label="anchor" href="#clickextent"></a>
</h3>
<p>This can be used like <code>zoom</code> for base package plot window.
Click two corners of a Plot.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/quickPlotMouseClicks.html">clickExtent</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># click at two locations on the Plot device</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="replotting-or-redrawing-the-entire-plot-window">Replotting or redrawing the entire plot window<a class="anchor" aria-label="anchor" href="#replotting-or-redrawing-the-entire-plot-window"></a>
</h2>
<p><code>rePlot</code> can be used to redraw the entire plot window,
either in the same frame as before (the default) or in a new frame. If
in a new frame, the new device will be created, then the entire Plot
window will be redrawn in the new device. This function can also be used
to redraw everything after a window gets resized manually and objects
become distorted. Some plot arguments can be passed via
<code>rePlot</code>, such as <code>visualSqueeze</code>,
<code>axes</code>, but not all. Further functionality like this will
likely be in a future update.K</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/Plot.html">rePlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">rePlot</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">rePlot</a></span><span class="op">(</span>visualSqueeze <span class="op">=</span> <span class="fl">1</span>, axes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">rePlot</a></span><span class="op">(</span>visualSqueeze <span class="op">=</span> <span class="fl">0.7</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, cols <span class="op">=</span> <span class="st">"Reds"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="assigning-plot-to-object">Assigning <code>Plot()</code> to object<a class="anchor" aria-label="anchor" href="#assigning-plot-to-object"></a>
</h2>
<p>The output of a <code>Plot</code> call can be assigned to an object
for future plotting. Simply pass the object name as if it were a Plot
object. Any data changes made to the objects contained within the plot,
if they are in the <code>.GlobalEnv</code> or a <code>envir</code> will
be reflected in the new plot, because the data are replotted from their
original source. This provides the same behaviour as a call to
<code><a href="../reference/Plot.html">rePlot()</a></code>.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/clearPlot.html">clearPlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">landscape</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># change values</span></span>
<span><span class="va">landscape</span><span class="op">$</span><span class="va">forestCover</span><span class="op">[</span><span class="va">landscape</span><span class="op">$</span><span class="va">habitatQuality</span> <span class="op">&gt;</span> <span class="fl">0.9</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">plots</span><span class="op">)</span></span>
<span><span class="co"># same as:</span></span>
<span><span class="fu"><a href="../reference/Plot.html">rePlot</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># but can be combined with other objects</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">caribou</span>, <span class="va">plots</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot.html">Plot</a></span><span class="op">(</span><span class="va">caribou</span>, <span class="va">plots</span>, <span class="va">sl</span><span class="op">)</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Eliot J B McIntire, Alex M Chubaty.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
